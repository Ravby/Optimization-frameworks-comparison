from mealpy import Problem
import numpy as np


class SphereShifted(Problem):

    def __init__(self, bounds=None, minmax="min", name="SphereShifted", **kwargs):
        super().__init__(bounds, minmax, **kwargs)
        self.name = name

    shift = np.array([45.00458616074768, -50.34195790924958, 16.656571994777153, -70.66157384610746, 77.87240204480926,
                      41.15636478376551, 49.128266155105166, -60.307473748449034, 33.10423742373693, 0.6236286355758835,
                      27.460586290936902, -36.02013445020688, -40.00877054048374, -64.66271141874185, 68.90566619452034,
                      62.70237277088032, -4.074486986783384, -1.317873518733137, -55.54285608300457, -47.34319489184719,
                      12.507912147062243, -40.535720288582304, 33.31036155896686, -28.838912135698926,
                      -1.4693369446360407,
                      -10.418532078512769, 73.36998380030019, -21.21493655887511, 44.00620956459555, 53.63261051536182,
                      2.7285937751837395, 13.470863898732262, 18.406813289986204, 79.81576486014623, 11.44319844208276,
                      54.93447134455431, 57.30432717171027, 40.23921236138773, 65.67885067903487, 26.366481706628406,
                      -27.30759152512293, 25.811669049736366, 33.765769465674026, 46.064188205488364, 68.68320146596031,
                      -30.14247692338735, -20.27099815222924, 72.28995446564878, -23.225596585148693,
                      -17.707777462132427,
                      -16.533526290183076, 52.71601762751186, -34.19215602995044, 17.794220792755056, 62.28063781336567,
                      48.17997449949212, -62.87666397080855, -0.3946724203053975, -63.61229513391514,
                      62.025414757794124])

    def obj_func(self, solution):
        solution2 = solution - SphereShifted.shift
        return np.sum(solution2 ** 2)
